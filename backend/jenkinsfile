pipeline {
	agent any

	stages {

		stage('Build'){
			steps {
                        	dir("backend") {
                                sh "mvn clean package -DskipTests=true"
				archive 'target/*.jar'
                            }
				
			}
		}
		stage('sonarqube'){
			steps{
                                dir("backend") {
				withSonarQubeEnv(installationName: 'sonar'){
				sh "mvn sonar:sonar"
				}
                             }
			}
		}
	}
}
